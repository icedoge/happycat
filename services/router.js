"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Router=exports.ParamsStorage=void 0;var _createClass=function(){function a(e,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,t){return r&&a(e.prototype,r),t&&a(e,t),e}}(),_index=require("../npm/@tarojs/taro-weapp/index.js"),_index2=_interopRequireDefault(_index),_index3=require("../npm/querystringify/index.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function combineQuery(e,r){return"/pages/"+e+"/index?"+(0,_index3.stringify)(r)}var ParamsStorage=function(){function e(){_classCallCheck(this,e),this._storage={}}return _createClass(e,[{key:"generateUnique",value:function(e){return e+(new Date).valueOf()}},{key:"save",value:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=this.generateUnique(e);return this._storage[t]=r,t}},{key:"load",value:function(e){var r=this._storage[e];return r?(delete this._storage[e],r):null}}]),e}(),ParamsStorageSingleton=new ParamsStorage;exports.ParamsStorage=ParamsStorageSingleton;var Router={navigate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"index",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=combineQuery(e,{routerParamsStorageKey:ParamsStorageSingleton.save(e,r)});return _index2.default.navigateTo({url:t})},redirect:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"index",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=combineQuery(e,{routerParamsStorageKey:ParamsStorageSingleton.save(e,r)});return _index2.default.redirectTo({url:t})},back:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return _index2.default.navigateBack({delta:e})},getParams:function(e){var r=e.$router.params.routerParamsStorageKey;return r?ParamsStorageSingleton.load(r):(console.log("[Router]: routerParamsStorageKey不存在"),null)}};exports.Router=Router;