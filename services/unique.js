"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Unique=void 0;var _createClass=function(){function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}}(),_index=require("./index.js");function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var STORAGE_KEY="unique";function fill(e,n){var t=e.toString();return t.length<n&&(t="00000".substring(0,n-t.length)+t),t}function createUnique(){var e=new Date;return"weapp-"+e.getFullYear()+fill(e.getMonth()+1,2)+fill(e.getDate(),2)+fill(e.getHours(),2)+fill(e.getMinutes(),2)+fill(e.getSeconds(),2)+fill(e.getMilliseconds(),3)+Math.random().toFixed(20).substring(2)}var Unique=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(){this._unique=_index.Storage.readSync(STORAGE_KEY),this._unique||(this._unique=createUnique(),_index.Storage.writeSync(STORAGE_KEY,this._unique))}},{key:"get",value:function(){return this._unique}},{key:"clean",value:function(){_index.Storage.write(STORAGE_KEY,"")}}]),e}(),singleton=new Unique;exports.Unique=singleton;